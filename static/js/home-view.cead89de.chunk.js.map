{"version":3,"sources":["views/HomePage/HomePage.js","services/apiService.js","services/status.js","img/no-image.jpeg","img/404.png","components/ErrorView/ErrorView.js","components/ErrorView/ErrorView.module.css","services/stylesPagination.js","views/HomePage/HomePage.module.css"],"names":["HomePage","classes","useStyles","history","useHistory","location","useLocation","useState","movies","setMovies","totalPage","setTotalPage","error","setError","Status","IDLE","status","setStatus","page","URLSearchParams","search","get","useEffect","PENDING","apiService","then","results","total_pages","RESOLVED","catch","console","log","REJECTED","className","s","main","title","message","moviesList","map","movie","moviesItem","to","pathname","string","id","slugify","lower","state","from","src","poster_path","noImageFound","alt","poster","movieTitle","root","count","onChange","event","push","Number","showFirstButton","showLastButton","size","BASE_URL","API_KEY","a","url","config","fetch","response","ok","json","Promise","reject","Error","getTrending","searchMovies","query","getMovieDetails","movieId","getMovieCredits","ErrorView","role","wrapper","errorImage","width","img","text","module","exports","makeStyles","display","justifyContent","backgroundColor","color","opacity"],"mappings":"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","file":"static/js/home-view.cead89de.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\nimport * as apiService from \"../../services/apiService\";\nimport slugify from \"slugify\";\nimport { Pagination } from \"@material-ui/lab\";\nimport useStyles from \"../../services/stylesPagination\";\nimport Status from \"../../services/status\";\nimport LoaderComponent from \"../../components/LoaderComponent/LoaderComponent\";\nimport ErrorView from \"../../components/ErrorView/ErrorView\";\nimport noImageFound from \"../../img/no-image.jpeg\";\nimport s from \"./HomePage.module.css\";\n\nconst makeSlug = (string) => slugify(string, { lower: true });\n\nfunction HomePage() {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const [movies, setMovies] = useState(null);\n  const [totalPage, setTotalPage] = useState(0);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  const page = new URLSearchParams(location.search).get(\"page\") ?? 1;\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    apiService\n      .getTrending(page)\n      .then(({ results, total_pages }) => {\n        setMovies(results);\n        setTotalPage(total_pages);\n        setStatus(Status.RESOLVED);\n      })\n      .catch((error) => {\n        console.log(error);\n        setError(\"Something went wrong. Try again.\");\n        setStatus(Status.REJECTED);\n      });\n  }, [page]);\n\n  const onHandlePage = (event, page) => {\n    history.push({ ...location, search: `page=${page}` });\n  };\n\n  return (\n    <main className={s.main}>\n      <h1 className={s.title}>Trending today</h1>\n\n      {status === Status.PENDING && <LoaderComponent />}\n\n      {status === Status.REJECTED && <ErrorView message={error.message} />}\n\n      {status === Status.RESOLVED && (\n        <>\n          <ul className={s.moviesList}>\n            {movies.map((movie) => (\n              <li key={movie.id} className={s.moviesItem}>\n                <Link\n                  to={{\n                    pathname: `movies/${makeSlug(\n                      `${movie.title} ${movie.id}`\n                    )}`,\n                    state: { from: location },\n                  }}\n                >\n                  <img\n                    src={\n                      movie.poster_path\n                        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                        : noImageFound\n                    }\n                    alt={movie.title}\n                    className={s.poster}\n                  />\n                </Link>\n                <span className={s.movieTitle}>{movie.title}</span>\n              </li>\n            ))}\n          </ul>\n          {totalPage > 1 && (\n            <Pagination\n              className={classes.root}\n              count={totalPage}\n              onChange={onHandlePage}\n              page={Number(page)}\n              showFirstButton\n              showLastButton\n              size=\"large\"\n            />\n          )}\n        </>\n      )}\n    </main>\n  );\n}\n\nexport default HomePage;\n","const BASE_URL = \"https://api.themoviedb.org/3\";\nconst API_KEY = \"bbc4299fe2ae807dec8863bf87f18e03\";\n\nasync function apiService(url = \"\", config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(\n        new Error(\"404 The resource you requested could not be found ðŸ¥º\")\n      );\n}\n\nexport function getTrending(page) {\n  return apiService(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`\n  );\n}\n\nexport function searchMovies(query, page) {\n  return apiService(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`\n  );\n}\n\nexport function getMovieDetails(movieId) {\n  return apiService(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n}\n\nexport function getMovieCredits(movieId) {\n  return apiService(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\n}\n\nexport function getMovieReviews(movieId, page) {\n  return apiService(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&page=${page}`\n  );\n}\n","const Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nexport default Status;\n","export default __webpack_public_path__ + \"static/media/no-image.8fbb00d8.jpeg\";","export default __webpack_public_path__ + \"static/media/404.801accc8.png\";","import PropTypes from \"prop-types\";\nimport errorImage from \"../../img/404.png\";\nimport s from \"./ErrorView.module.css\";\n\nfunction ErrorView({ message }) {\n  return (\n    <div role=\"alert\" className={s.wrapper}>\n      <img src={errorImage} width=\"650\" alt=\"\" className={s.img} />\n      <p text={message} className={s.text}>\n        {message}\n      </p>\n    </div>\n  );\n}\n\nErrorView.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorView;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ErrorView_wrapper__21hvW\",\"img\":\"ErrorView_img__3R6JL\",\"text\":\"ErrorView_text__2DYol\"};","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    \"& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible\":\n      {\n        backgroundColor: \"var(--accentColor);\",\n      },\n    \"& .MuiPaginationItem-root\": {\n      color: \"#fff\",\n    },\n    \"& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible\":\n      {\n        opacity: \"0.7\",\n      },\n    \"& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible\":\n      {\n        opacity: \"1\",\n      },\n    \"& .MuiPagination-ul\": {\n      justifyContent: \"center\",\n    },\n  },\n});\n\nexport default useStyles;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"HomePage_main__1MvNK\",\"title\":\"HomePage_title__20LvC\",\"moviesList\":\"HomePage_moviesList__3hy1g\",\"moviesItem\":\"HomePage_moviesItem__3oMRz\",\"poster\":\"HomePage_poster__2JM7W\",\"movieTitle\":\"HomePage_movieTitle__otdux\",\"pagination\":\"HomePage_pagination__1jESI\"};"],"sourceRoot":""}