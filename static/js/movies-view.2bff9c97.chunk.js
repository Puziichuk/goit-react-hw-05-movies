(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5],{121:function(e,t,a){"use strict";a.r(t);var n=a(83),c=a(61),i=a(0),r=a(3),o=a(10),s=a(62),u=a(84),l=a.n(u),m=a(119),b=a(78),p=a(63),f=a(17),j=a(65),g=a(18),h=a(91),d=a.n(h),v=a(1);var O=function(e){var t=e.onHandleSubmit,a=Object(i.useState)(""),n=Object(c.a)(a,2),r=n[0],o=n[1];return Object(v.jsxs)("form",{className:d.a.form,onSubmit:function(e){if(e.preventDefault(),""===r.trim())return g.b.info("\ud83d\ude31 Please enter a value for search movies!");t(r.trim()),o("")},children:[Object(v.jsx)("input",{className:d.a.input,type:"text",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search movies...",onChange:function(e){var t=e.target;return o(t.value)}}),Object(v.jsx)("button",{type:"submit",className:d.a.btn,children:Object(v.jsx)("span",{className:d.a.label,children:"Search"})})]})},_=a(64),x=a(92),E=a.n(x);t.default=function(){var e,t=Object(b.a)(),a=Object(r.f)(),u=Object(r.g)(),g=Object(r.i)().url,h=Object(i.useState)(""),d=Object(c.a)(h,2),x=d[0],M=d[1],N=Object(i.useState)(0),P=Object(c.a)(N,2),I=P[0],w=P[1],y=Object(i.useState)(null),S=Object(c.a)(y,2),D=S[0],L=S[1],C=Object(i.useState)(null),V=Object(c.a)(C,2),k=V[0],R=V[1],T=Object(i.useState)(p.a.IDLE),B=Object(c.a)(T,2),J=B[0],q=B[1],F=null!==(e=new URLSearchParams(u.search).get("page"))&&void 0!==e?e:1;return Object(i.useEffect)((function(){if(""!==u.search){var e=new URLSearchParams(u.search).get("query");M(e,F)}}),[u.search,F]),Object(i.useEffect)((function(){x&&(q(p.a.PENDING),s.d(x,F).then((function(e){var t=e.results,a=e.total_pages;if(0===t.length)return R("No results were found for ".concat(x,"!")),void q(p.a.REJECTED);L(t),w(a),q(p.a.RESOLVED)})).catch((function(e){console.log(e),R(e.message),q(p.a.REJECTED)})))}),[x,F]),Object(v.jsxs)("main",{className:E.a.main,children:[Object(v.jsx)(O,{onHandleSubmit:function(e){x!==e&&(M(e),L(null),R(null),q(p.a.IDLE),a.push(Object(n.a)(Object(n.a)({},u),{},{search:"query=".concat(e,"&page=1")})))}}),J===p.a.PENDING&&Object(v.jsx)(f.a,{}),J===p.a.REJECTED&&Object(v.jsx)(j.a,{message:k}),J===p.a.RESOLVED&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("ul",{className:E.a.moviesList,children:D.map((function(e){return Object(v.jsxs)("li",{className:E.a.moviesItem,children:[Object(v.jsx)(o.b,{to:{pathname:"".concat(g,"/").concat((t="".concat(e.title," ").concat(e.id),l()(t,{lower:!0}))),state:{from:u}},children:Object(v.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):_.a,alt:e.title,className:E.a.poster})}),Object(v.jsx)("span",{className:E.a.movieTitle,children:e.title})]},e.id);var t}))}),I>1&&Object(v.jsx)(m.a,{className:t.root,count:I,onChange:function(e,t){a.push(Object(n.a)(Object(n.a)({},u),{},{search:"query=".concat(x,"&page=").concat(t)}))},page:Number(F),showFirstButton:!0,showLastButton:!0,size:"large"})]})]})}},62:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return m})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return p}));var n=a(70),c=a.n(n),i=a(71),r="https://api.themoviedb.org/3",o="bbc4299fe2ae807dec8863bf87f18e03";function s(){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(c.a.mark((function e(){var t,a,n,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",a=i.length>1&&void 0!==i[1]?i[1]:{},e.next=4,fetch(t,a);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("404 The resource you requested could not be found \ud83e\udd7a"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return s("".concat(r,"/trending/movie/day?api_key=").concat(o,"&page=").concat(e))}function m(e,t){return s("".concat(r,"/search/movie?api_key=").concat(o,"&query=").concat(e,"&page=").concat(t))}function b(e){return s("".concat(r,"/movie/").concat(e,"?api_key=").concat(o))}function p(e){return s("".concat(r,"/movie/").concat(e,"/credits?api_key=").concat(o))}},63:function(e,t,a){"use strict";t.a={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},64:function(e,t,a){"use strict";t.a=a.p+"static/media/no-image.8fbb00d8.jpeg"},65:function(e,t,a){"use strict";var n=a.p+"static/media/404.801accc8.png",c=a(67),i=a.n(c),r=a(1);t.a=function(e){var t=e.message;return Object(r.jsxs)("div",{role:"alert",className:i.a.wrapper,children:[Object(r.jsx)("img",{src:n,width:"650",alt:"",className:i.a.img}),Object(r.jsx)("p",{text:t,className:i.a.text,children:t})]})}},67:function(e,t,a){e.exports={wrapper:"ErrorView_wrapper__21hvW",img:"ErrorView_img__3R6JL",text:"ErrorView_text__2DYol"}},78:function(e,t,a){"use strict";var n=a(114),c=Object(n.a)({root:{display:"flex",justifyContent:"center","& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{backgroundColor:"var(--accentColor);"},"& .MuiPaginationItem-root":{color:"#fff"},"& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{opacity:"0.7"},"& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible":{opacity:"1"},"& .MuiPagination-ul":{justifyContent:"center"}}});t.a=c},91:function(e,t,a){e.exports={form:"SearchBar_form__14oVI",input:"SearchBar_input__2tyvT",label:"SearchBar_label__31IHr",btn:"SearchBar_btn__2BLIb"}},92:function(e,t,a){e.exports={main:"MoviesPage_main__3YtdD",moviesList:"MoviesPage_moviesList__26lOt",moviesItem:"MoviesPage_moviesItem__E7DND",poster:"MoviesPage_poster__3DVKN",movieTitle:"MoviesPage_movieTitle__3ibC6"}}}]);
//# sourceMappingURL=movies-view.2bff9c97.chunk.js.map